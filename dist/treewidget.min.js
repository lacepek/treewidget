var TreeWidget=(function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=7)})([(function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=(function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=(function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"})(r),i=r.sources.map((function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"}));return[n].concat(i).concat([o]).join("\n")}return[n].join("\n")})(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];null!=i&&(r[i]=!0)}for(o=0;o<t.length;o++){var s=t[o];null!=s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}}),(function(t,e,n){var r={},o=(function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}})((function(){return window&&document&&document.all&&!window.atob})),i=(function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var r=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}})(),s=null,a=0,u=[],c=n(4);function l(t,e){for(var n=0;n<t.length;n++){var o=t[n],i=r[o.id];if(i){i.refs++;for(var s=0;s<i.parts.length;s++)i.parts[s](o.parts[s]);for(;s<o.parts.length;s++)i.parts.push(v(o.parts[s],e))}else{var a=[];for(s=0;s<o.parts.length;s++)a.push(v(o.parts[s],e));r[o.id]={id:o.id,refs:1,parts:a}}}}function p(t,e){for(var n=[],r={},o=0;o<t.length;o++){var i=t[o],s=e.base?i[0]+e.base:i[0],a={css:i[1],media:i[2],sourceMap:i[3]};r[s]?r[s].parts.push(a):n.push(r[s]={id:s,parts:[a]})}return n}function f(t,e){var n=i(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=u[u.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),u.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=i(t.insertAt.before,n);n.insertBefore(e,o)}}function h(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=u.indexOf(t);e>=0&&u.splice(e,1)}function d(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var r=(function(){0;return n.nc})();r&&(t.attrs.nonce=r)}return m(e,t.attrs),f(t,e),e}function m(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function v(t,e){var n,r,o,i;if(e.transform&&t.css){if(!(i="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=i}if(e.singleton){var u=a++;n=s||(s=d(e)),r=b.bind(null,n,u,!1),o=b.bind(null,n,u,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=(function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",m(e,t.attrs),f(t,e),e})(e),r=function(t,e,n){var r=n.css,o=n.sourceMap,i=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||i)&&(r=c(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var s=new Blob([r],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}.bind(null,n,e),o=function(){h(n),n.href&&URL.revokeObjectURL(n.href)}):(n=d(e),r=function(t,e){var n=e.css,r=e.media;r&&t.setAttribute("media",r);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){h(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=o()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=p(t,e);return l(n,e),function(t){for(var o=[],i=0;i<n.length;i++){var s=n[i];(a=r[s.id]).refs--,o.push(a)}t&&l(p(t,e),e);for(i=0;i<o.length;i++){var a;if(0===(a=o[i]).refs){for(var u=0;u<a.parts.length;u++)a.parts[u]();delete r[a.id]}}}};var y=(function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}})();function b(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=y(e,o);else{var i=document.createTextNode(o),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(i,s[e]):t.appendChild(i)}}}),(function(t,e,n){var r=n(3);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(1)(r,o);r.locals&&(t.exports=r.locals)}),(function(t,e,n){(t.exports=n(0)(!1)).push([t.i,'.modal-overlay{position:absolute;top:0;bottom:0;left:0;right:0;background:rgba(0,0,0,.5);visibility:hidden}.modal-window{margin:75px auto;padding:20px;background:#fff;border:1px solid #666;box-shadow:0 0 50px rgba(0,0,0,.5);position:relative;width:45vw}.modal-window .modal-window-large{width:75vw}.modal-window .modal-window-small{width:25vw}.light .modal-window{border-color:#aaa;box-shadow:0 2px 10px rgba(0,0,0,.25)}.modal-window h2{margin-top:0;color:#666;font-family:"Trebuchet MS",Tahoma,Arial,sans-serif}.modal-window .close{position:absolute;width:20px;height:20px;top:20px;right:20px;opacity:.8;transition:all .2s;font-size:24px;font-weight:700;text-decoration:none;color:#666}.modal-window .close:hover{opacity:1}.modal-window .content{max-height:400px;overflow:auto}.modal-window p{margin:0 0 1em}.modal-window p:last-child{margin:0}',""])}),(function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var o,i=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?t:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}}),(function(t,e,n){var r=n(6);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(1)(r,o);r.locals&&(t.exports=r.locals)}),(function(t,e,n){(t.exports=n(0)(!1)).push([t.i,".tree-line-even{background-color:#fff}.tree-line-odd{background-color:#f0f0f8}.tree-widget-list>.tree-line:first-child{border-top:1px solid #dcdcdc}.tree-line{padding-top:.5em;padding-bottom:.5em;border-bottom:1px solid #dcdcdc}.tree-line-add{text-decoration:underline}.tree-line-add:hover,.tree-line-delete:hover,.tree-line-edit:hover{cursor:pointer}",""])}),(function(t,e,n){"use strict";n.r(e);var r=(function(){function t(){}return t.prototype.configurate=function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e])},t.prototype.setDefaultProps=function(){},t})(),o=(function(){function t(){}return t.createElement=function(t,e,n){var r=document.createElement(t);if(n)for(var o in n){var i=n[o];this.setAttribute(r,o,i)}return e&&this.addContent(r,e),r},t.setAttribute=function(t,e,n){if(t&&null!=n&&void 0!=n){e=this.sanitizeAttributeName(e);var r=null;(r=t instanceof s?t.element:t)&&this.addAttribute(r,e,n)}},t.addContent=function(t,e){if(e&&t)if(e instanceof Array)for(var n=0,r=e;n<r.length;n++){var o=r[n];this.addToElement(t,o)}else this.addToElement(t,e)},t.setContent=function(t,e){e&&t&&(this.clearContent(t),this.addContent(t,e))},t.clearContent=function(t){for(var e=this.getRealElement(t);e.firstChild;)e.removeChild(e.firstChild)},t.addToElement=function(t,e){var n=this.getRealElement(t),r=this.getRealContent(e);n&&r&&("string"==typeof r?n.innerHTML+=r:n.appendChild(r))},t.getRealElement=function(t){return t instanceof HTMLElement?t:t.element},t.getRealContent=function(t){return t instanceof s?t.element:t},t.addAttribute=function(t,e,n){switch(e){case"selected":t.selected=n;break;default:t.setAttribute(e,n)}},t.sanitizeAttributeName=function(t){switch(t){case"className":return"class";case"forId":return"for";case"ariaLabel":return"aria-label";case"ariaHidden":return"aria-hidden"}return t},t})(),i=(function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),s=(function(t){function e(e){void 0===e&&(e=null);var n=t.call(this)||this;return n.attributes=null,n._config={},n.setDefaultProps(),n._config=e,n.init(),n.preRender(),n.render(),n.postRender(),n}return i(e,t),e.prototype.setAttribute=function(t,e){this.element&&o.setAttribute(this.element,t,e)},e.prototype.setContent=function(t){this.element&&o.setContent(this.element,t)},e.prototype.addContent=function(t){this.element&&o.addContent(this.element,t)},e.prototype.clearContent=function(){this.element&&o.clearContent(this.element)},e.prototype.show=function(){this.element.style.visibility="visible"},e.prototype.hide=function(){this.element.style.visibility="hidden"},e.prototype.setState=function(t){this.state=t,this.clearContent(),this.render()},e.prototype.init=function(){this.configurate(this._config),this.parentElement=this.getParentElement()},e.prototype.preRender=function(){this.element||(this.element=this.createElement())},e.prototype.render=function(){},e.prototype.postRender=function(){this.element&&(this.parentElement=this.getParentElement(),!this.element.parentElement&&this.parentElement&&o.addContent(this.parentElement,this.element))},e.prototype.getParentElement=function(){return this.parentElement?this.parentElement:this.parentSelector?document.querySelector(this.parentSelector):null},e.prototype.setDefaultProps=function(){this.attributes={id:null,className:null,style:null},this.parentElement=null,this.element=null,this.parentSelector=null,this.tag="div",this.parent=null,this.state={}},e.prototype.createElement=function(t,e,n){return void 0===t&&(t=this.tag),void 0===n&&(n=this.attributes),t||(t="div"),o.createElement(t,e,n)},e})(r),a=(function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),u=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.initDragEvents=function(){var t=this;this.element&&(this.element.addEventListener("dragstart",(function(e){t.onDragStart(e)})),this.element.addEventListener("dragend",(function(e){t.onDragEnd(e)})))},e.prototype.onDragStart=function(t){this.setAsCurrent()},e.prototype.onDragEnd=function(t){this.clearCurrent()},e.prototype.setAsCurrent=function(){this.container.setCurrent(this)},e.prototype.clearCurrent=function(){this.container.current=null},e.prototype.setDefaultProps=function(){t.prototype.setDefaultProps.call(this),this.canDrag=!1},e})(s),c=(function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),l=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.onSortSuccess=function(t){},e})(u);function p(t){return"function"==typeof t}var f=(function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),h=function(){return(h=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},d=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return f(e,t),e.prototype.onSortSuccess=function(t){this.events.onLineMoveSuccess&&this.events.onLineMoveSuccess(t);var e=this.events.onLineMove,n=this.structure.getMoveLineUrl();if(n)fetch(n);else if(p(e)){var r=h({},t,{name:this.structure.getName(),canDrag:this.canDragLine(),item:this.data.item});this.events.onLineMove(r,this.element)}},e.prototype.render=function(){var t=this;p(this.events.onLineClick)&&this.element.addEventListener("click",(function(){t.events.onLineClick({name:t.structure.getName(),canDrag:t.canDragLine()},t.element)}),!1);var e="tree-line row";if(this.count%2==0?e+=" tree-line-even":e+=" tree-line-odd",this.canEditLine()?e+=" tree-line-edit":this.attributes.className&&(e=e+" "+this.attributes.className),this.setAttribute("class",e),this.parentElement)if(this.canDragLine()&&this.setAttribute("draggable",!0),this.text){this.element.innerHTML=this.text;var n=this.calculateOffset();this.element.style.paddingLeft=n+"px"}else this.data&&(this.createItems(),this.canDeleteLine()&&this.createDeleteButton())},e.prototype.postRender=function(){t.prototype.postRender.call(this),this.initDragEvents()},e.prototype.createItems=function(){var t=this.structure.getItems();if(t){var e=this.getVisibleItemCount(t),n=!1;for(var r in t)if(r in this.data.item){var o=t[r],i=this.getItemValue(r,o);if(!o.isHidden){var s=this.createItem(i,e);if(this.addContent(s),!n){var a=this.calculateOffset();s.style.paddingLeft=a+"px",n=!0}}}}},e.prototype.canEditLine=function(){var t=this.structure.getCanEditFunction(),e=void 0!==t?t(this.data):null;return null!==e?e&&this.structure.getCanEdit():this.structure.getCanEdit()},e.prototype.canDragLine=function(){var t=this.structure.getIsSortableFunction(),e=void 0!==t?t(this.data):null;return null!==e?this.structure.getIsSortable()&&e:this.structure.getIsSortable()},e.prototype.canDeleteLine=function(){return this.structure.getCanDelete()},e.prototype.createItem=function(t,e){var n=this.canDeleteLine()?11:12,r=Math.floor(n/e),i="col-"+Math.max(1,r);return o.createElement("div",t,{className:i})},e.prototype.createDeleteButton=function(){this.deleteButton=o.createElement("i",null,{className:"fas fa-trash-alt tree-line-delete"});var t=o.createElement("div",this.deleteButton,{className:"col text-right"});this.addContent(t)},e.prototype.calculateOffset=function(){return 10+(this.treeConfig.offset||this.DEFAULT_OFFSET)*this.level},e.prototype.getItemValue=function(t,e){var n=this.data.item[t];if(e.options&&n&&e.options[n]){var r=e.options[n].value;return r||null}return n||null},e.prototype.getVisibleItemCount=function(t){var e=0;for(var n in t){t[n].isHidden||e++}return e},e.prototype.setDefaultProps=function(){t.prototype.setDefaultProps.call(this),this.level=0,this.data={item:null,index:0},this.color="dark",this.textColor="light",this.DEFAULT_OFFSET=25,this.count=0,this.text=null,this.events={}},e})(l),m=(function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),v=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.state.content=this.content},e.prototype.render=function(){var t=this;this.element.className="modal-overlay",this.contentElement=this.createElement("div",null,{className:"modal-window-body"});var e=this.createElement("div",null,{className:"modal-window-header"}),n=this.createElement("div",null,{className:"modal-window-footer"}),r=this.createElement("div",[e,this.contentElement,n],{className:"modal-window"});if(this.state.title&&e.appendChild(this.state.title),this.hasCloseButton){var i=this.createElement("span","&times;",{ariaHidden:"true"}),s=this.createElement("button",i,{className:"close",ariaLabel:"Close"});s.addEventListener("click",(function(){t.close()})),e.appendChild(s)}this.state.content&&o.addContent(this.contentElement,this.state.content),this.element.addEventListener("click",(function(e){e.target===t.element&&t.close()})),this.addContent(r)},e.prototype.close=function(){this.hide(),this.onClose&&this.onClose()},e.prototype.setDefaultProps=function(){t.prototype.setDefaultProps.call(this),this.hasCloseButton=!0,this.confirmButton=null,this.dismissButton=null,this.onConfirm=null,this.onDismiss=null,this.onClose=null},e})(s),y=(function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),b=function(){return(b=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},g=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return y(e,t),e.prototype.render=function(){var t=this;this.setAttribute("class","form-group");var e="input-"+this.attributes.name;if(this.label){var n=o.createElement("label",this.label,{forId:e});this.addContent(n)}this.input=this.createElement("input",null,b({className:"form-control",id:e},this.attributes)),this.input.onchange=function(e){t.setValue(t.input.value),t.onChange&&t.onChange(e,t,t.formAttribute)},this.element.appendChild(this.input),this.setValue(this.input.value)},e.prototype.getValue=function(){return this.formAttribute.value},e.prototype.setValue=function(t){this.formAttribute.value=t},e.prototype.setDefaultProps=function(){t.prototype.setDefaultProps.call(this),this.label=null,this.input=null,this.attributes={type:"text"}},e})(s),w=(function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),C=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return w(e,t),e.prototype.setContent=function(t){this.select&&o.setContent(this.select,t)},e.prototype.addContent=function(t){this.select&&o.addContent(this.select,t)},e.prototype.clearContent=function(){this.select&&o.clearContent(this.select)},e.prototype.render=function(){var t=this;this.setAttribute("class","form-group");var e="select-"+this.attributes.name;if(this.label){var n=this.createElement("label",this.label,{forId:e});this.element.appendChild(n)}this.select=this.createElement("select",null,{className:"form-control",type:this.attributes.type,name:this.attributes.name,id:e,value:this.attributes.value,disabled:this.attributes.disabled}),this.select.onchange=function(e){t.setValue(t.select.value),t.onChange&&t.onChange(e,t)},this.element.appendChild(this.select),this.setValue(this.attributes.value)},e.prototype.getValue=function(){return this.formAttribute.value},e.prototype.setValue=function(t){this.formAttribute.value=t},e.prototype.setDefaultProps=function(){t.prototype.setDefaultProps.call(this),this.label=null,this.select=null,this.attributes={type:"select"}},e})(s),E=(function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),_=function(){return(_=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},O=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return E(e,t),e.prototype.render=function(){var t=this;this.setAttribute("class","form-check");var e="checkbox-"+this.attributes.name;this.checkbox=this.createElement("input",null,_({className:"form-check-input",id:e},this.attributes)),this.checkbox.onchange=function(e){t.setValue(t.checkbox.checked),t.onChange&&t.onChange(e,t)},this.addContent(this.checkbox);var n=this.label;if(n){var r=this.createElement("label",n,{className:"form-check-label",forId:e});this.addContent(r)}this.setValue(this.checkbox.checked)},e.prototype.getValue=function(){return this.formAttribute.value},e.prototype.setValue=function(t){this.formAttribute.value=t},e.prototype.setDefaultProps=function(){t.prototype.setDefaultProps.call(this),this.label=null,this.input=null,this.attributes={type:"checkbox"}},e})(s);function S(t,e){var n=[];for(var r in t){var o=e(t[r]);n.push(o)}return n}var L=(function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),A=function(){return(A=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},x=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return L(e,t),e.prototype.render=function(){var t=this,e=this.formAttribute.name,n="radio-wrapper-"+e;this.setAttribute("class","radio-wrapper"),this.setAttribute("id",n);var r=S(this.formAttribute.options,(function(n){var r=t.createElement("div",null,{className:"form-check"}),o="radio-"+e+"-"+n.key,i=t.createElement("input",null,A({className:"form-check-input",id:o,type:"radio",name:e,value:n.key}));r.appendChild(i);var s=t.formAttribute.value===n.key;s&&(i.checked=s,t.setValue(n.key)),i.onchange=function(e){t.setValue(i.value),t.onChange&&t.onChange(e,t)},t.radios.push(i);var a=n.value;if(a){var u=t.createElement("label",a,{className:"form-check-label",forId:o});r.appendChild(u)}return r})),o=this.formAttribute.label;if(o){var i=this.createElement("label",o,{className:"form-label",forId:n});this.addContent(i)}this.addContent(r)},e.prototype.getValue=function(){return this.formAttribute.value},e.prototype.setValue=function(t){this.formAttribute.value=t},e.prototype.setDefaultProps=function(){t.prototype.setDefaultProps.call(this),this.label=null,this.input=null,this.attributes={},this.radios=[]},e})(s);var D=(function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),P=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return D(e,t),e.prototype.render=function(){var t=this;if(this.element.onsubmit=function(e){return t.onSubmit&&t.onSubmit(t.model),!1},this.model){var e=this.renderForm();this.setContent(e)}},e.prototype.setDefaultProps=function(){t.prototype.setDefaultProps.call(this),this.tag="form"},e.prototype.renderForm=function(){var t=this;return S(function(t,e){var n={};for(var r in t){var o=t[r];e(o)&&(n[r]=o)}return n}(this.model,(function(t){return!t.isHidden})),(function(e){var n=null;switch(e.type){case"radio":n=t.renderRadio(e);break;case"select":n=t.renderSelect(e);break;case"checkbox":n=t.renderCheckbox(e);break;default:n=t.renderText(e)}return n}))},e.prototype.renderRadio=function(t){return new x({formAttribute:t})},e.prototype.renderSelect=function(t){var e=t.name,n=t.value,r=t.options,i=t.label,s=t.disabled,a=S(r,(function(t){var r="option-"+e+"-"+t.key,i=n===t.key;return o.createElement("option",t.value,{id:r,value:t.key,selected:i})})),u=new C({formAttribute:t,label:i,attributes:{name:e,disabled:s,value:n,id:"select-"+e}});return u.addContent(a),u},e.prototype.renderCheckbox=function(t){var e=t.name,n=t.type,r=t.label,o=t.value,i=t.disabled,s=o,a=new O({formAttribute:t,label:r,attributes:{name:e,disabled:i,value:o,type:n}});return a.setAttribute("checked",s),a},e.prototype.renderText=function(t){var e=t.name,n=t.type,r=t.label,o=t.value,i=t.disabled;return new g({formAttribute:t,label:r,attributes:{name:e,disabled:i,value:o,type:n}})},e})(s),j=(function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),k=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return j(e,t),e.prototype.render=function(){var e=this;t.prototype.render.call(this);var n=this.createElement("button","Cancel",{className:"btn btn-default",type:"button"});this.onCancel&&(n.onclick=function(){e.onCancel()});var r=this.createElement("button","Submit",{className:"btn btn-primary"}),o=this.createElement("div",[n,r],{className:"btn-group",role:"group"});this.addContent(o)},e})(P);function M(t,e){var n={},r=Object.assign({},t);for(var o in r){var i=e(r[o]);n[o]=i}return n}var N=(function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),I=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return N(e,t),e.prototype.addChild=function(t){var e=this.children.length;this.children.push({index:e,component:t}),t.parent=this},e.prototype.findChildByElement=function(t){for(var e=0,n=this.children;e<n.length;e++){var r=n[e];if(r.component.element===t)return r}return null},e.prototype.findChild=function(t){for(var e=0,n=this.children;e<n.length;e++){var r=n[e];if(r.component===t)return r}return null},e.prototype.moveChild=function(t,e){var n=this.children[t];this.children.splice(t,1),this.children.splice(e,0,n),this.resetIndexes()},e.prototype.resetIndexes=function(){for(var t=0,e=this.children.length;t<e;t++)this.children[t].index=t},e.prototype.setDefaultProps=function(){t.prototype.setDefaultProps.call(this),this.children=[]},e})(s),T=(function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),U=(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasRegisteredEvents=!1,e}return T(e,t),e.prototype.setCurrent=function(t){var e=this.findChild(t);e&&(this.current=e)},e.prototype.render=function(){t.prototype.render.call(this),this.initEvents()},e.prototype.initEvents=function(){!this.hasRegisteredEvents&&this.canDrop&&this.element&&(this.element.addEventListener("dragover",this.onDragOver),this.element.addEventListener("dragenter",this.onDragEnter),this.element.addEventListener("dragleave",this.onDragLeave),this.registerOnDropEvent(),this.hasRegisteredEvents=!0)},e.prototype.onDragOver=function(t){t.preventDefault()},e.prototype.onDragEnter=function(t){t.preventDefault()},e.prototype.onDragLeave=function(t){},e.prototype.onDrop=function(t,e){var n=this.current.component;this.element.insertBefore(n.element,e)},e.prototype.registerOnDropEvent=function(){var t=this;this.element.addEventListener("drop",(function(e){var n=e.target;return t.onDrop(e,n)}))},e.prototype.setDefaultProps=function(){t.prototype.setDefaultProps.call(this),this.current=null,this.canDrop=!0},e})(I),R=(function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),B=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return R(e,t),e.prototype.onDrop=function(t,e){var n=this.current.component.element,r=e.nextElementSibling;r===n?this.element.insertBefore(n,e):(this.element.insertBefore(e,n),r?this.element.insertBefore(n,r):this.element.appendChild(n))},e.prototype.registerOnDropEvent=function(){var t=this;this.element.addEventListener("drop",(function(e){var n=t.findTarget(e.target);return t.onDrop(e,n)}))},e.prototype.findTarget=function(t){return t&&!t.hasAttribute("draggable")&&(t=t.parentElement,this.findTarget(t)),t},e})(U),F=(function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),V=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return F(e,t),e.prototype.onDrop=function(t,e){if(this.current){var n=this.current.component.element;if(n!==e){var r=this.findChildByElement(e);if(r){var o=this.current.index,i=r.index;if(o>i)this.element.insertBefore(n,e);else{var s=e.nextElementSibling;s?this.element.insertBefore(n,s):this.element.appendChild(n)}if(this.moveChild(o,i),this.current.component instanceof l){var a=i-o;this.current.component.onSortSuccess({lastIndex:o,index:i,positionChange:a})}}}}},e})(B),H=(function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),q=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return H(e,t),e.prototype.onDrop=function(t,e){if(this.current&&this.current.component.element!==e){var n=this.findChildByElement(e);if(n){var r=this.current.index,o=n.index;if(this.canMoveChild(n)){this.moveChild(r,o);var i=r-o;this.current.component.onSortSuccess({lastIndex:r,index:o,positionChange:i})}}}},e.prototype.moveChild=function(t,e){if(this.hasChildren()){var n=this.current.component.parent.data.children,r=n[t];n.splice(t,1),n.splice(e,0,r),this.resetIndexes()}},e.prototype.canMoveChild=function(t){if(!this.hasChildren())return!1;var e=t.component;if(e instanceof d){var n=e.parent,r=this.current.component.parent;if(n&&n.data&&n.data.children)return r===n&&e.canDrag}return!1},e.prototype.hasChildren=function(){var t=this.current.component;if(t instanceof d){var e=t.parent;if(e&&e.data&&e.data.children)return!0}return!1},e})(V),K=(function(){function t(t){this.hasBeenSorted=!1,this.structure=null,this.structure=t,this.structure.config||(this.structure.config={})}return t.prototype.getItems=function(){return this.structure.items},t.prototype.getName=function(){return this.structure.name},t.prototype.getParentName=function(){return this.structure.parent},t.prototype.getLabel=function(){return this.structure.label},t.prototype.getConfig=function(){return this.structure.config},t.prototype.getAddLineText=function(){return this.getConfig().addLineText},t.prototype.getCanEdit=function(){return this.getConfig().canEdit},t.prototype.setCanEdit=function(t){this.getConfig().canEdit=t},t.prototype.getCanAdd=function(){return this.getConfig().canAdd},t.prototype.setCanAdd=function(t){this.getConfig().canAdd=t},t.prototype.getCanDelete=function(){return this.getConfig().canDelete},t.prototype.setCanDelete=function(t){this.getConfig().canDelete=t},t.prototype.getUseModalEdit=function(){return this.getConfig().useModalEdit},t.prototype.getIsSortable=function(){return this.getConfig().isSortable},t.prototype.getSortFunction=function(){return this.getConfig().sortFunction},t.prototype.getStructureType=function(){return this.structure},t.prototype.getCanEditFunction=function(){return this.getConfig().canEditFunction},t.prototype.getCanAddFunction=function(){return this.getConfig().canAddFunction},t.prototype.getIsSortableFunction=function(){return this.getConfig().isSortableFunction},t.prototype.getUseModalEditFunction=function(){return this.getConfig().useModalEditFunction},t.prototype.getEditUrl=function(){return this.getConfig().editUrl},t.prototype.getAddUrl=function(){return this.getConfig().addUrl},t.prototype.getDeleteUrl=function(){return this.getConfig().deleteUrl},t.prototype.getMoveLineUrl=function(){return this.getConfig().moveLineUrl},t})(),Z=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},G=function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return (function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}})([i,a])}}},$=function(t,e){return Z(void 0,void 0,void 0,(function(){var n;return G(this,(function(r){switch(r.label){case 0:return n=new Request(t,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:e}),[4,fetch(n)];case 1:return[4,r.sent().json()];case 2:return[2,r.sent()]}}))}))},z=(function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),J=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},W=function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return (function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}})([i,a])}}},Q=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return z(e,t),e.prototype.canEdit=function(){return this.config.canEdit},e.prototype.canAdd=function(){return this.config.canAdd},e.prototype.canDelete=function(){return this.config.canDelete},e.prototype.getOffset=function(){return this.config.offset},e.prototype.clearContent=function(){t.prototype.clearContent.call(this),this.parentElement.removeChild(this.wrapper)},e.prototype.init=function(){t.prototype.init.call(this),this.data&&(this.state.data=this.data),this.state.shouldSortStructure={shouldSort:!1,structure:null},this.initStructures()},e.prototype.render=function(){if(this.state.data){this.parentElement||(this.parentElement=document.body);var t=this.createRootSortZone();this.element=t.element,this.wrapper=this.createElement("div",this.element,{className:"tree-widget"}),this.parentElement.appendChild(this.wrapper);this.createLines(this.state.data,null,0,{count:0},this.element,t),this.modal=new v({parentElement:this.element}),this.parentElement.appendChild(this.wrapper)}},e.prototype.createRootSortZone=function(){var t=this.structureKeys[0],e=this._structures[t],n=e.getCanEdit()&&e.getIsSortable();return new q({tag:"div",data:{item:null,children:this.state.data},canDrop:n,parentElement:this.parentElement,attributes:{className:"tree-widget-list"}})},e.prototype.createLines=function(t,e,n,r,o,i){var s=this.structureKeys[n],a=this._structures[s],u=this.structureKeys[n+1],c=this._structures[u];this.sortLines(a,t,e);for(var l=Object.keys(t),p=0,f=l.length;p<=f;p++){if(p===f){this.createAddLine(e,n,r,o,a,i);break}if(p===f)break;var h=t[l[p]];h.children||(h.children=[]),r.count++,this.createLine(n,r.count,o,h,a,i);var d=this.canEdit&&c&&c.getIsSortable(),m=new q({tag:"div",data:h,canDrop:d,parentElement:o}),v=m.element;v.setAttribute("class",a.getName()),o.appendChild(v),n<this.structureKeys.length-1&&this.createLines(h.children?h.children:[],h,n+1,r,v,m)}},e.prototype.sortLines=function(t,e,n){var r=t.getSortFunction(),o=this.state.shouldSortZone,i=!1;if(o){var s=n&&o.parentData===n;i=o.shouldSort&&s}!p(r)||t.hasBeenSorted&&!i||(e.sort(r),t.hasBeenSorted=!0)},e.prototype.createLine=function(t,e,n,r,o,i){var s=this,a=i,u=this.config,c=this.events,l=i.data,p=new d({parentElement:n,data:r,structure:o,level:t,events:c,container:a,count:e,treeConfig:u});return p.canDragLine()&&(p.events.onLineMoveSuccess=function(){s.setState({data:s.state.data})}),p.canDeleteLine()&&p.deleteButton.addEventListener("click",(function(){s.showDeleteModal(r,l,o)})),i&&i.addChild(p),p.canEditLine()&&p.element.addEventListener("click",(function(t){t.target!==p.element&&t.target.parentElement!==p.element||s.onEditLine(r,l,o,!1)})),p},e.prototype.createAddLine=function(t,e,n,r,o,i){var s=this;if(this.canAdd()&&this.canAddLine(o,t)){n.count++;var a=o.getAddLineText(),u=a||"Add line +",c=n.count,l=new d({parentElement:r,structure:o,level:e,count:c,text:u,treeConfig:this.config,attributes:{className:"tree-line-add"}});return l.element.addEventListener("click",(function(){var t=i?i.data:s.data;s.onEditLine(t,i.data,o,!0)})),l}return null},e.prototype.canAddLine=function(t,e){var n=t.getCanAddFunction(),r=void 0!==n?n(e):null;return null!==r?r&&t.getCanAdd():t.getCanAdd()},e.prototype.onEditLine=function(t,e,n,r){n.getUseModalEdit()&&this.showEditModal(t,e,n,r)},e.prototype.showEditModal=function(t,e,n,r){var o=this,i=this.createModel(t,n,r),s=new k({model:i,onCancel:function(){o.modal.hide()},onSubmit:function(){return J(o,void 0,void 0,(function(){return W(this,(function(o){return[2,this.onModalEditSubmit(t,e,i,n,r)]}))}))}});this.modal.setState({content:s}),this.modal.show()},e.prototype.showDeleteModal=function(t,e,n){var r=this,o=this.createElement("h4","Are you sure?",{className:"col-12 text-center"}),i=this.createElement("div","Cancel",{className:"btn btn-default"}),s=this.createElement("div","Confirm",{className:"btn btn-danger"});i.addEventListener("click",(function(){r.modal.hide()})),s.addEventListener("click",(function(){r.onModalDeleteSubmit(t,e,n)}));var a=this.createElement("div",i,{className:"col-6 text-left"}),u=this.createElement("div",s,{className:"col-6 text-right"}),c=this.createElement("div",[a,u],{className:"row"});this.modal.setState({content:c,title:o}),this.modal.show()},e.prototype.onModalEditSubmit=function(t,e,n,r,o){return J(this,void 0,void 0,(function(){var i,s,a,u,c,l,f,h,d,m;return W(this,(function(v){switch(v.label){case 0:return i=r.getEditUrl(),s=r.getAddUrl(),a=this.events.onLineEditSubmit,u=this.events.onLineAddSubmit,c=r.getStructureType(),l={item:null,response:null},f=!1,h=this.getModelValues(n),d={values:h,parent:e.item,name:c.name},o?s?[4,$(s,d)]:[3,2]:[3,5];case 1:return l=v.sent(),[3,4];case 2:return p(u)?[4,u(h,e.item,c.name)]:[3,4];case 3:l=v.sent(),f=!0,v.label=4;case 4:return[3,9];case 5:return i?[4,$(i,d)]:[3,7];case 6:return l=v.sent(),[3,9];case 7:return p(a)?[4,a(h,e.item,c.name)]:[3,9];case 8:l=v.sent(),v.label=9;case 9:return l.response&&!0===l.response.status&&(this.modal.hide(),l.response.data?this.state.data=l.response.data:l.item&&(m=l.item,o?(e.children||(e.children=[]),e.children.push({item:m})):t.item=m),this.setState({data:this.state.data,shouldSortZone:{shouldSort:f,parentData:e}})),[2]}}))}))},e.prototype.onModalDeleteSubmit=function(t,e,n){return J(this,void 0,void 0,(function(){var r,o,i,s,a;return W(this,(function(u){switch(u.label){case 0:return r=n.getDeleteUrl(),o=n.getStructureType(),i=this.events.onLineDeleteSubmit,s={item:null,response:null},a=!1,r?[4,fetch(r)]:[3,3];case 1:return[4,u.sent().json()];case 2:return s=u.sent(),[3,5];case 3:return p(i)?[4,i(t.item,e.item,o.name)]:[3,5];case 4:s=u.sent(),a=!0,u.label=5;case 5:return s.response&&!0===s.response.status&&(this.modal.hide(),s.response.data?this.state.data=s.response.data:s.item&&(e.children=e.children.filter((function(e){return e!==t}))),this.setState({data:this.state.data,shouldSortZone:{shouldSort:a,parentData:e}})),[2]}}))}))},e.prototype.getModelValues=function(t){return M(Object.assign({},t),(function(t){return t.value}))},e.prototype.createModel=function(t,e,n){return M(e.getItems(),(function(e){var r=Object.assign({},e),o=r.name;if(!n){var i=t.item;i.hasOwnProperty(o)&&(r.value=i[o])}return r}))},e.prototype.initStructures=function(){var t=this;this._structures=M(this.structures,(function(e){var n=new K(e);return void 0===n.getCanEdit()&&n.setCanEdit(t.canEdit()),void 0===n.getCanAdd()&&n.setCanAdd(t.canAdd()),void 0===n.getCanDelete()&&n.setCanDelete(t.canDelete()),n})),this._structures&&(this.structureKeys=Object.keys(this._structures))},e.prototype.setDefaultProps=function(){t.prototype.setDefaultProps.call(this),this.data=[],this.structures={},this.config={},this.events={},this.events.onLineClick=function(){},this.events.onLineMove=function(){},this.events.onLineAddSubmit=function(t){return{item:t,response:null}},this.events.onLineEditSubmit=function(t){return{item:t,response:null}}},e})(s),X=(function(){function t(){}return t.create=function(t){this.tree=new Q(t)},t.setOnLineEditSubmit=function(t){this.tree.events.onLineEditSubmit=t},t.setOnLineAddSubmit=function(t){this.tree.events.onLineAddSubmit=t},t.setOnLineDeleteSubmit=function(t){this.tree.events.onLineDeleteSubmit=t},t.setOnLineMove=function(t){this.tree.events.onLineMove=t},t.setStructure=function(t){this.tree.structures=t},t})();n(2),n(5);function Y(t){X.create(t)}function tt(t){X.setOnLineEditSubmit(t)}function et(t){X.setOnLineAddSubmit(t)}function nt(t){X.setOnLineDeleteSubmit(t)}function rt(t){X.setOnLineMove(t)}function ot(t){X.setStructure(t)}n.d(e,"create",(function(){return Y})),n.d(e,"setOnLineEditSubmit",(function(){return tt})),n.d(e,"setOnLineAddSubmit",(function(){return et})),n.d(e,"setOnLineDeleteSubmit",(function(){return nt})),n.d(e,"setOnLineMove",(function(){return rt})),n.d(e,"setStructure",(function(){return ot}))})]);