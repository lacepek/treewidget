var TreeWidget=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var r=function(){function t(){}return t.prototype.config=function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e])},t.prototype.setDefaultProps=function(){},t}(),o=function(){function t(){}return t.createElement=function(t,e,n){var r=document.createElement(t);if(n)for(var o in n){var i=n[o];this.setAttribute(r,o,i)}return e&&this.addContent(r,e),r},t.setAttribute=function(t,e,n){if(t&&null!=n&&void 0!=n){e=this.sanitizeAttributeName(e);var r=null;(r=t instanceof s?t.element:t)&&r.setAttribute(e,n)}},t.addContent=function(t,e){if(e&&t)if(e instanceof Array)for(var n=0,r=e;n<r.length;n++){var o=r[n];this.addToElement(t,o)}else this.addToElement(t,e)},t.setContent=function(t,e){e&&t&&(this.clearContent(t),this.addContent(t,e))},t.clearContent=function(t){for(var e=this.getRealElement(t);e.firstChild;)e.removeChild(e.firstChild)},t.addToElement=function(t,e){var n=this.getRealElement(t),r=this.getRealContent(e);n&&r&&("string"==typeof r?n.innerHTML+=r:n.appendChild(r))},t.getRealElement=function(t){return t instanceof HTMLElement?t:t.element},t.getRealContent=function(t){return t instanceof s?t.element:t},t.sanitizeAttributeName=function(t){switch(t){case"className":return"class";case"forId":return"for";case"ariaLabel":return"aria-label";case"ariaHidden":return"aria-hidden"}return t},t}(),i=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(t){function e(e){void 0===e&&(e=null);var n=t.call(this)||this;return n.attributes=null,n._config={},n.setDefaultProps(),n._config=e,n.init(),n.preRender(),n.render(),n.postRender(),n}return i(e,t),e.prototype.setAttribute=function(t,e){this.element&&o.setAttribute(this.element,t,e)},e.prototype.setContent=function(t){this.element&&o.setContent(this.element,t)},e.prototype.addContent=function(t){this.element&&o.addContent(this.element,t)},e.prototype.clearContent=function(){this.element&&o.clearContent(this.element)},e.prototype.show=function(){this.element.style.visibility="visible"},e.prototype.hide=function(){this.element.style.visibility="hidden"},e.prototype.setState=function(t){this.state=t,this.clearContent(),this.render()},e.prototype.init=function(){this.config(this._config),this.parentElement=this.getParentElement()},e.prototype.preRender=function(){this.element||(this.element=this.createElement())},e.prototype.render=function(){},e.prototype.postRender=function(){this.element&&(this.parentElement=this.getParentElement(),!this.element.parentElement&&this.parentElement&&o.addContent(this.parentElement,this.element))},e.prototype.getParentElement=function(){return this.parentElement?this.parentElement:this.parentSelector?document.querySelector(this.parentSelector):null},e.prototype.setDefaultProps=function(){this.attributes={id:null,className:null,style:null},this.parentElement=null,this.element=null,this.parentSelector=null,this.tag="div",this.parent=null,this.state={}},e.prototype.createElement=function(t,e,n){return void 0===t&&(t=this.tag),void 0===n&&(n=this.attributes),t||(t="div"),o.createElement(t,e,n)},e}(r),a=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.canDrag=!1,e}return a(e,t),e.prototype.initDragEvents=function(){var t=this;this.element&&(this.element.addEventListener("dragstart",function(e){t.onDragStart(e)}),this.element.addEventListener("dragend",function(e){t.onDragEnd(e)}))},e.prototype.onDragStart=function(t){this.setAsCurrent()},e.prototype.onDragEnd=function(t){this.clearCurrent()},e.prototype.setAsCurrent=function(){this.container.setCurrent(this)},e.prototype.clearCurrent=function(){this.container.current=null},e}(s),c=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.onSortSuccess=function(t){},e}(u),p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),h=function(){return(h=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype.onSortSuccess=function(t){var e=h({},t,{text:"text",name:"name",canDrag:this.canDrag});return this.events.onLineMove(e,this.element)},e.prototype.render=function(){var t=this;this.element.addEventListener("click",function(){t.events.onLineClick({text:"text",name:"name",canDrag:t.canDrag},t.element)},!1);var e="tree-line row";this.count%2==0?e+=" tree-line-even":e+=" tree-line-odd",this.attributes.className&&(e=e+" "+this.attributes.className),this.setAttribute("class",e),this.parentElement&&(this.canDrag&&this.setAttribute("draggable",!0),this.text?this.element.innerHTML=this.text:this.createItems())},e.prototype.postRender=function(){t.prototype.postRender.call(this),this.initDragEvents()},e.prototype.createItems=function(){var t=this.structure.items;if(t){var e=this.getVisibleItemCount(t),n=!1;for(var r in t)if(r in this.data.item){var o=t[r],i=this.getItemValue(r,o);if(!o.hidden){var s=this.createItem(i,e);if(!n){var a=10+20*this.level;s.style.paddingLeft=a+"px",n=!0}}}}},e.prototype.createItem=function(t,e){var n=Math.round(12/e),r="col-"+Math.max(1,n),i=o.createElement("div",t,{className:r});return this.addContent(i),i},e.prototype.getItemValue=function(t,e){var n=this.data.item[t];if(e.options&&n&&e.options[n]){var r=e.options[n].value;return r||null}return n||null},e.prototype.getVisibleItemCount=function(t){var e=0;for(var n in t){t[n].hidden||e++}return e},e.prototype.setDefaultProps=function(){t.prototype.setDefaultProps.call(this),this.level=0,this.data={item:null},this.structure={name:null,parent:null},this.color="dark",this.textColor="light",this.offset=0,this.count=0,this.text=null,this.events={},this.events.onLineClick=function(t,e){},this.events.onLineMove=function(t,e){}},e}(l),d=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.state.content=this.content},e.prototype.render=function(){var t=this;this.element.className="modal-overlay",this.contentElement=this.createElement("div",null,{className:"modal-window-body"});var e=this.createElement("div",null,{className:"modal-window-header"}),n=this.createElement("div",null,{className:"modal-window-footer"}),r=this.createElement("div",[e,this.contentElement,n],{className:"modal-window"});if(this.title){var i=this.createElement("h"+this.title.size,this.title.text);e.appendChild(i)}if(this.hasCloseButton){var s=this.createElement("span","&times;",{ariaHidden:"true"}),a=this.createElement("button",s,{className:"close",ariaLabel:"Close"});a.addEventListener("click",function(){t.close()}),e.appendChild(a)}this.state.content&&o.addContent(this.contentElement,this.state.content),this.element.addEventListener("click",function(e){e.target===t.element&&t.close()}),this.addContent(r)},e.prototype.close=function(){this.hide(),this.onClose&&this.onClose()},e.prototype.setDefaultProps=function(){t.prototype.setDefaultProps.call(this),this.hasCloseButton=!0,this.confirmButton=null,this.dismissButton=null,this.onConfirm=null,this.onDismiss=null,this.onClose=null},e}(s);var m=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),v=function(){return(v=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.prototype.render=function(){var t=this;this.setAttribute("class","form-group");var e="input-"+this.attributes.name;if(this.label){var n=o.createElement("label",this.label,{forId:e});this.addContent(n)}this.input=this.createElement("input",null,v({className:"form-control",id:e},this.attributes)),this.input.onchange=function(e){t.setValue(t.input.value),t.onChange&&t.onChange(e,t,t.formAttribute)},this.element.appendChild(this.input),this.setValue(this.input.value)},e.prototype.getValue=function(){return this.formAttribute.value},e.prototype.setValue=function(t){this.formAttribute.value=t},e.prototype.setDefaultProps=function(){t.prototype.setDefaultProps.call(this),this.label=null,this.input=null,this.attributes={type:"text"}},e}(s),_=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return _(e,t),e.prototype.setContent=function(t){this.select&&o.setContent(this.select,t)},e.prototype.addContent=function(t){this.select&&o.addContent(this.select,t)},e.prototype.clearContent=function(){this.select&&o.clearContent(this.select)},e.prototype.render=function(){var t=this;this.setAttribute("class","form-group");var e="select-"+this.attributes.name;if(this.label){var n=this.createElement("label",this.label,{forId:e});this.element.appendChild(n)}this.select=this.createElement("select",null,{className:"form-control",type:this.type,name:this.name,id:e,value:this.value,disabled:this.disabled}),this.select.onchange=function(e){t.setValue(t.select.value),t.onChange&&t.onChange(e,t)},this.element.appendChild(this.select),this.setValue(this.select.value)},e.prototype.getValue=function(){return this.formAttribute.value},e.prototype.setValue=function(t){this.formAttribute.value=t},e.prototype.setDefaultProps=function(){t.prototype.setDefaultProps.call(this),this.label=null,this.select=null,this.attributes={type:"select"}},e}(s),E=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),C=function(){return(C=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},O=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return E(e,t),e.prototype.render=function(){var t=this;this.setAttribute("class","form-check");var e="checkbox-"+this.attributes.name;this.checkbox=this.createElement("input",null,C({className:"form-check-input",id:e},this.attributes)),this.checkbox.onchange=function(e){t.setValue(t.checkbox.checked),t.onChange&&t.onChange(e,t)},this.addContent(this.checkbox);var n=this.label;if(n){var r=this.createElement("label",n,{className:"form-check-label",forId:e});this.addContent(r)}this.setValue(this.checkbox.checked)},e.prototype.getValue=function(){return this.formAttribute.value},e.prototype.setValue=function(t){this.formAttribute.value=t},e.prototype.setDefaultProps=function(){t.prototype.setDefaultProps.call(this),this.label=null,this.input=null,this.attributes={type:"checkbox"}},e}(s);function w(t,e){var n=[];for(var r in t){var o=e(t[r]);n.push(o)}return n}var P=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),D=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return P(e,t),e.prototype.render=function(){var t=this;if(this.element.onsubmit=function(e){return t.onSubmit&&t.onSubmit(t.model),!1},this.model){var e=this.renderForm();this.setContent(e)}},e.prototype.setDefaultProps=function(){t.prototype.setDefaultProps.call(this),this.tag="form"},e.prototype.renderForm=function(){var t=this;return w(this.model,function(e){var n=null;switch(e.type){case"radio":n=t.renderRadioList(e);break;case"select":n=t.renderSelect(e);break;case"checkbox":n=t.renderCheckbox(e);break;default:n=t.renderText(e)}return n})},e.prototype.renderRadioList=function(t){return o.createElement("div")},e.prototype.renderRadio=function(t,e,n){return o.createElement("div")},e.prototype.renderSelect=function(t){var e=t.name,n=t.value,r=t.options,i=t.label,s=t.disabled,a=w(r,function(t){var n="option-"+e+"-"+t.key;return o.createElement("option",t.value,{id:n})}),u=new g({formAttribute:t,label:i,attributes:{name:e,disabled:s,value:n,id:"select-"+e}});return u.addContent(a),u},e.prototype.renderCheckbox=function(t){var e=t.name,n=t.type,r=t.label,o=t.value,i=t.disabled,s=o,a=new O({formAttribute:t,label:r,attributes:{name:e,disabled:i,value:o,type:n}});return a.setAttribute("checked",s),a},e.prototype.renderText=function(t){var e=t.name,n=t.type,r=t.label,o=t.value,i=t.disabled;return new b({formAttribute:t,label:r,attributes:{name:e,disabled:i,value:o,type:n}})},e}(s),x=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),j=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return x(e,t),e.prototype.render=function(){var e=this;t.prototype.render.call(this);var n=this.createElement("button","Cancel",{className:"btn btn-default",type:"button"});this.onCancel&&(n.onclick=function(){e.onCancel()});var r=this.createElement("button","Submit",{className:"btn btn-primary"}),o=this.createElement("div",[n,r],{className:"btn-group",role:"group"});this.addContent(o)},e}(D);function A(t,e){var n={};for(var r in t){var o=e(t[r]);n[r]=o}return n}var L=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return L(e,t),e.prototype.addChild=function(t){var e=this.children.length;this.children.push({index:e,component:t}),t.parent=this},e.prototype.findChildByElement=function(t){for(var e=0,n=this.children;e<n.length;e++){var r=n[e];if(r.component.element===t)return r}return null},e.prototype.findChild=function(t){for(var e=0,n=this.children;e<n.length;e++){var r=n[e];if(r.component===t)return r}return null},e.prototype.moveChild=function(t,e){var n=this.children[t];this.children.splice(t,1),this.children.splice(e,0,n),this.resetIndexes()},e.prototype.resetIndexes=function(){for(var t=0,e=this.children.length;t<e;t++)this.children[t].index=t},e.prototype.setDefaultProps=function(){t.prototype.setDefaultProps.call(this),this.children=[]},e}(s),k=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),N=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasRegisteredEvents=!1,e}return k(e,t),e.prototype.setCurrent=function(t){var e=this.findChild(t);e&&(this.current=e)},e.prototype.render=function(){t.prototype.render.call(this),this.initEvents()},e.prototype.initEvents=function(){!this.hasRegisteredEvents&&this.canDrop&&this.element&&(this.element.addEventListener("dragover",this.onDragOver),this.element.addEventListener("dragenter",this.onDragEnter),this.element.addEventListener("dragleave",this.onDragLeave),this.registerOnDropEvent(),this.hasRegisteredEvents=!0)},e.prototype.onDragOver=function(t){t.preventDefault()},e.prototype.onDragEnter=function(t){t.preventDefault()},e.prototype.onDragLeave=function(t){},e.prototype.onDrop=function(t,e){var n=this.current.component;this.element.insertBefore(n.element,e)},e.prototype.registerOnDropEvent=function(){var t=this;this.element.addEventListener("drop",function(e){var n=e.target;return t.onDrop(e,n)})},e.prototype.setDefaultProps=function(){t.prototype.setDefaultProps.call(this),this.current=null,this.canDrop=!0},e}(S),T=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),V=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return T(e,t),e.prototype.onDrop=function(t,e){var n=this.current.component.element,r=e.nextElementSibling;r===n?this.element.insertBefore(n,e):(this.element.insertBefore(e,n),r?this.element.insertBefore(n,r):this.element.appendChild(n))},e.prototype.registerOnDropEvent=function(){var t=this;this.element.addEventListener("drop",function(e){var n=t.findTarget(e.target);return t.onDrop(e,n)})},e.prototype.findTarget=function(t){return t.draggable||(t=t.parentElement,this.findTarget(t)),t},e}(N),I=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),R=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return I(e,t),e.prototype.onDrop=function(t,e){if(this.current){var n=this.current.component.element;if(n!==e){var r=this.findChildByElement(e);if(r){var o=this.current.index,i=r.index;if(o>i)this.element.insertBefore(n,e);else{var s=e.nextElementSibling;s?this.element.insertBefore(n,s):this.element.appendChild(n)}if(this.moveChild(o,i),this.current.component instanceof l){var a=i-o;this.current.component.onSortSuccess({lastIndex:o,index:i,positionChange:a})}}}}},e}(V),B=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),M=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return B(e,t),e.prototype.onDrop=function(t,e){if(this.current&&this.current.component.element!==e){var n=this.findChildByElement(e);if(n){var r=this.current.index,o=n.index;if(this.canMoveChild(n)){this.moveChild(r,o);var i=o-r;this.current.component.onSortSuccess({lastIndex:r,index:o,positionChange:i})}}}},e.prototype.moveChild=function(t,e){if(this.hasChildren()){var n=this.current.component.parent.data.children,r=n[t];n.splice(t,1),n.splice(e,0,r),this.resetIndexes()}},e.prototype.canMoveChild=function(t){if(!this.hasChildren())return!1;var e=t.component;if(e instanceof f){var n=e.parent,r=this.current.component.parent;if(n&&n.data&&n.data.children)return r===n}return!1},e.prototype.hasChildren=function(){var t=this.current.component;if(t instanceof f){var e=t.parent;if(e&&e.data&&e.data.children)return!0}return!1},e}(R),H=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),z=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function s(t){try{u(r.next(t))}catch(t){i(t)}}function a(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(s,a)}u((r=r.apply(t,e||[])).next())})},F=function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},K=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return H(e,t),e.prototype.clearContent=function(){t.prototype.clearContent.call(this),this.parentElement.removeChild(this.wrapper)},e.prototype.init=function(){t.prototype.init.call(this),this.data&&(this.state.data=this.data),this.structure&&(this.structureKeys=Object.keys(this.structure))},e.prototype.render=function(){this.parentElement||(this.parentElement=document.body);var t=this.structureKeys[0],e=this.structure[t].isSortable,n=new M({tag:"div",data:{item:null,children:this.state.data},canDrop:e,parentElement:this.parentElement,attributes:{className:"tree-widget-list"}});this.element=n.element,this.wrapper=this.createElement("div",this.element,{className:"tree-widget"}),this.parentElement.appendChild(this.wrapper);this.createLines(this.state.data,0,{count:0},this.element,n),this.modal=new y({parentElement:this.element,title:{size:3,text:"Header"}})},e.prototype.setDefaultProps=function(){t.prototype.setDefaultProps.call(this),this.data=[],this.structure={},this.canEdit=!1,this.options={addLineText:null}},e.prototype.createLines=function(t,e,n,r,o){var i=this,s=t.length,a=0;for(var u in t){var c=t[u],l=Object.keys(this.structure)[e],p=this.structure[l],h=this.canEdit&&p.isSortable,f=this.createLine(e,n.count,h,r,c,p,{},o);h&&(f.onSortSuccess=function(){i.setState({data:i.state.data})}),this.canEdit&&o&&o.addChild(f),a++,this.canEdit&&s===a&&(n.count++,this.createAddLine(e,n.count,r,c,p,f)),n.count++;var d=this.element;if(c.children){var y=Object.keys(this.structure)[e+1],m=this.structure[y],v=this.canEdit&&m.isSortable,b=new M({tag:"div",data:c,canDrop:v,parentElement:r});(d=b.element).setAttribute("class",p.name),r.appendChild(d),this.createLines(c.children,e+1,n,d,b)}}},e.prototype.addEditLine=function(t){var e=t.element,n=t.parentElement,r=this.createEditLine(t.level,t.structure.name,t.parentElement).element;r.focus(),n.insertBefore(r,e)},e.prototype.createAddLine=function(t,e,n,r,o,i,s){var a=this,u=this.options.addLineText?this.options.addLineText:"Add line +",c=new f({parentElement:n,data:r,structure:o,level:t,count:e,text:u,attributes:{className:"text-center"}});return c.element.addEventListener("click",function(){var t=i.container.data;a.addLine(t,o)}),c},e.prototype.addLine=function(t,e){var n=this;if(e.useModalEdit){var r=e.items,o=function(t,e){var n={};for(var r in t){var o=t[r];e(o)&&(n[r]=o)}return n}(r,function(t){return!t.hidden});o=A(o,function(t){return!t.value&&t.defaultValue&&(t.value=t.defaultValue),t});var i=new j({model:o,onCancel:function(){n.modal.hide()},onSubmit:function(e){return z(n,void 0,void 0,function(){var n,o;return F(this,function(i){switch(i.label){case 0:return n=!1,this.events.onLineEditSubmit?[4,this.events.onLineEditSubmit(r)]:[3,2];case 1:n=i.sent(),i.label=2;case 2:return n&&(this.modal.hide(),o=A(e,function(t){return t.value}),t.children.push({item:o}),this.setState({data:this.state.data})),[2]}})})}});this.modal.setState({content:i}),this.modal.show()}},e.prototype.createLine=function(t,e,n,r,o,i,s,a){var u={parentElement:r,data:o,structure:i,level:t,canDrag:n,events:this.events,container:a,count:e};return new f(u)},e.prototype.createEditLine=function(t,e,n){return this.createLine(t,0,!1,n,{item:null},{name:null,parent:null})},e}(s),q=function(){function t(){}return t.create=function(e){t.tree=new K(e)},t}();function G(t){return q.create(t)}n.d(e,"create",function(){return G})}]);